apiVersion: apps/v1
kind: Deployment
metadata:
  name: fdk-mqa-scoring-service
  labels:
    app: fdk-mqa-scoring-service
    fdk.service: fdk-mqa-scoring-service
spec:
  template:
    spec:
      containers:
        - name: fdk-mqa-scoring-service
          env:
          - name: NAMESPACE
            valueFrom:
              secretKeyRef:
                name: common-prod
                key: NAMESPACE
          - name: SCHEMA_REGISTRY
            valueFrom:
              secretKeyRef:
                name: fdk-metadata-quality-prod
                key: SCHEMA_REGISTRY
          - name: BROKERS
            valueFrom:
              secretKeyRef:
                name: fdk-metadata-quality-prod
                key: BROKERS
          - name: API_KEY
            valueFrom:
              secretKeyRef:
                name: fdk-metadata-quality-prod
                key: API_KEY
          - name: SCORING_API_URL
            value: http://fdk-mqa-scoring-api:8082
          - name: RUST_LOG
            value: none,fdk_mqa_scoring_service=debug
